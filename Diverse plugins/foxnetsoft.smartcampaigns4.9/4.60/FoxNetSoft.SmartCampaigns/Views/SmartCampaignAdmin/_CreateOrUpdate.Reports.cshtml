@model FoxNetSoft.Plugin.Misc.SmartCampaigns.Models.SmartCampaignModel
@using Microsoft.AspNetCore.Routing
@using FoxNetSoft.Plugin.Misc.SmartCampaigns.Models
<div class="cards-group">
    @if (Model.Id > 0)
    {
    <div class="card card-default">
        <div class="card-body">
            @await Html.PartialAsync("Table", new DataTablesModel
{
Name = "smartcampaign-report-grid",
UrlRead = new DataUrl("SmartCampaignReportList", "SmartCampaignAdmin", new RouteValueDictionary { [nameof(Model.SmartCampaignSearchModel.SmartCampaignId)] = Model.SmartCampaignSearchModel.SmartCampaignId }),
UrlDelete = new DataUrl("SmartCampaignReportDelete", "SmartCampaignAdmin", null),
Length = Model.SmartCampaignSearchModel.PageSize,
LengthMenu = Model.SmartCampaignSearchModel.AvailablePageSizes,
ColumnCollection = new List<ColumnProperty>
{
new ColumnProperty(nameof(SmartCampaignReportModel.CreatedOn))
{
Title = T("Admin.FoxNetSoft.Plugin.Misc.SmartCampaigns.Report.Fields.CreatedOn").Text,
Width = "160",
Render = new RenderDate()
},
new ColumnProperty(nameof(SmartCampaignReportModel.ReportLevel))
{
Title = T("Admin.FoxNetSoft.Plugin.Misc.SmartCampaigns.Report.Fields.ReportLevel").Text,
Width = "100"
},
new ColumnProperty(nameof(SmartCampaignReportModel.FullMessage))
{
Title = T("Admin.FoxNetSoft.Plugin.Misc.SmartCampaigns.Report.Fields.FullMessage").Text,
Encode = false
},
new ColumnProperty(nameof(SmartCampaignProductModel.Id))
{
Title = T("Admin.Common.Delete").Text,
Width = "100",
Render = new RenderButtonRemove(T("Admin.Common.Delete").Text),
ClassName = NopColumnClassDefaults.Button
}
}
})
        </div>
        <div class="card-footer">
            <input type="submit" id="btnRefreshSmartCampaignReport" style="display: none" />
            <script>
                    $(document).ready(function () {
                        $('#btnRefreshSmartCampaignReport').click(function () {
                            //refresh grid
                            updateTable('#smartcampaign-report--grid');

                            //return false to don't reload a page
                            return false;
                        });
                    });
            </script>
        </div>
    </div>
    }
    else
    {
        <div class="card card-default">
            <div class="card-body">
                @T("Admin.FoxNetSoft.Plugin.Misc.SmartCampaigns.Report.SaveBeforeEdit")
            </div>
        </div>
    }
</div>
